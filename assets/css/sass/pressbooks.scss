@import '_colors';

/* Admin Bar */

@font-face {
		font-family: "PBFont";
		src:url("../fonts/PBFont.eot");
		src:url("../fonts/PBFont.eot?#iefix") format("embedded-opentype"),
			url("../fonts/PBFont.ttf") format("truetype"),
			url("../fonts/PBFont.woff") format("woff"),
			url("../fonts/PBFont.svg#PBFont") format("svg");
		font-weight: normal;
		font-style: normal;
}

#wpadminbar {
	.quicklinks li .blavatar:before {
		font: 14px/1 "PBFont" !important;
		-webkit-font-smoothing: antialiased;
		background: none;
		content: '\e600' !important;	
	}
	#wp-admin-bar-site-name>.ab-item:before {
		-webkit-font-smoothing: antialiased;
		background: none;
		content: '\f330' !important;
	}
	#wp-admin-bar-wp-logo > .ab-item .ab-icon:before {
		font: 20px/1 "PBFont" !important;
		-webkit-font-smoothing: antialiased;
		background: none;
		content: '\e600' !important;
	}
	@media screen and (max-width: 782px) {
		#wp-admin-bar-my-books {
			display: block;
			a.ab-item {
				text-overflow: clip;
			}
			&> .ab-item { text-indent: 100%;
				white-space: nowrap;
				overflow: hidden;
				width: 55px;
				padding: 0;
				color: #999;
				position: relative;
				&:before {
					font: 400 34px/1 dashicons;
					text-align: center;
					text-indent: 0px;
					top: 7px;
					width: 55px;
					-webkit-font-smoothing: antialiased;
					background: none;
					content: "\f318" !important;
				}
			}
		}
		.quicklinks li .blavatar:before {
			display: inline-block;
		}
		#wp-admin-bar-wp-logo > .ab-item .ab-icon:before {
			font: 28px/1 "PBFont" !important;
		}
	}
}

/* Contextual Help */

#contextual-help-link-wrap {
	display: none;
}

/* Dashboard Widgets */

#dashboard-widgets { 
	#pb_dashboard_widget_book {
		h4 {
			font-weight: bold;
		}
		ul {
			li {
				&.front-matter, &.chapter, &.back-matter {
					margin-left: 10px;
				}
			}
		}
		.part-buttons {
			width: 200px;
			text-align: right;
			position: absolute;
			right: 8px;
			top: 0;
		}
	}
}

/* Custom Metadata Manager */

.custom-metadata-field.checkbox {
	div, label {
		display: inline-block;
		vertical-align: baseline;
	}
	input {
		margin: 0 1px 0 0;
	}
}

/* Custom CSS Editor */

.custom-css-page form #my_custom_css {
	width: 100%;
	margin-top: 1em;
	font-family: "Lucida Console", Monaco, monospace
}

/* Organize Page */
	
body.chapter_page_pressbooks {
	#publicize-panel {
		h4 {
			font-size: 15px;
			font-weight: normal;
			span {
				font-weight: bold;
				padding: 2px 3px;
				margin: 15px 0 5px;
				text-transform: uppercase;
			}
			&.private {
				span {
					background-color: $pale-red;
				}
			}
			&.public {
				span {
					background-color: $pale-green;
				}
			}
		}
		.publicize-form {
			label {
				display: block;
				&:first-child {
					margin-bottom: 10px;
				}
				span.active {
					font-weight: bold;
				}
			}
		}
	}
	
	.widefat {
		margin-top: 10px;
		.delete-link {
			color: $bright-red;
		}
		thead {
			tr {
				th {
					font-weight: bold;
				}
			}
		}
		tbody {
			tr {
				td {
					vertical-align: middle;
					span.comment-count {
						width: auto !important;
						float: none;
					}
				}
				&.ui-state-highlight {
					background: $light-grey;
					color: $black;
					height: 1.5em;
					line-height: 1.2em;
				}
			}
		}
	}
	#loader {
		display: none;
	}
}

/* Export Page */

.toplevel_page_pb_export {
	legend {
		color: #676767;
		font-weight: bold;
		margin-bottom: 10px;
	}
	
	label {
		margin-right: 25px;
		span {
			font-size: 10px;
			font-weight: bold;
		}
	}
	
	.postbox {
		.inside {
			margin-bottom: 0;
			.fully-upgraded {
				color: $green;
			}
		}
	}

	input {
		margin-right: 7px;
		&.generate {
			text-transform: uppercase;
		}

	}
	.export-left {
		float: left;
		margin-right: 3%;
		width: 47%;
		h2 {
			background-color: #fff;
			border: 1px solid #eee;
			border-width: 0 1px;
			padding-left: 10px;
		}
		h3 {
			font-weight: normal;
			margin-bottom: 0;
			padding: 10px 0 0 10px;
			&:nth-of-type(even) {
				background-color: #eee;
			}
		}
		#loader {
			display: none;
			margin-bottom: 4em;
		}
		.export-file-container {
			padding-right: 1.5em;
			.file-actions {
				visibility: hidden;
				a, button {
					color: black;
					text-decoration: none;
					display: inline-block;
					width: 20px;
					height: 20px;
					&:hover {
						color: #c5002a;
					}
				}
				button {
					background-color: transparent;
					border: none;
					cursor: pointer;
					padding: 0;
				}
			}
		}
		.export-files {
			padding: 10px;
			margin-bottom: 1.25em;
			&:nth-of-type(odd) {
				background-color: #eee;
			}
			&:nth-of-type(1) {
				background: #fff;
				border: 1px solid #eee;
				border-width: 0 1px 1px;
			}
			form.export-file {
				display: inline-block;
				text-align: center;
				padding: 0 10px 0 0;
				a {
					text-align: center;
				}
				span.export-file-icon {
					display: block;
					margin: 0 auto 8px;
					&.small {
						width: 36px;
						height: 36px;
						background-size: 36px 36px;
						&.epub {
							background: url(../images/epub-36.png) -0 0 no-repeat;
						}
						&.epub3 {
							background: url(../images/epub3-36.png) -0 0 no-repeat;
						}
						&.icml {
							background: url(../images/icml-36.png) -0 0 no-repeat;
						}
						&.mobi {
							background: url(../images/mobi-36.png) -0 0 no-repeat;
						}
						&.pdf {
							background: url(../images/pdf-36.png) -0 0 no-repeat;
						}
						&.wxr {
							background: url(../images/wxr-36-red.png) -0 0 no-repeat;
						}
						&.vanillawxr {
							background: url(../images/vanillawxr-36.png) -0 0 no-repeat;
						}
						&.xhtml {
							background: url(../images/xhtml-36.png) -0 0 no-repeat;
						}
						&.odt {
							background: url(../images/odt-36.png) -0 0 no-repeat;
						}
					}
					&.large {
						width: 48px;
						height: 48px;
						background-size: 48px 48px;
						&.epub {
							background: url(../images/epub-48.png) -0 0 no-repeat;
						}
						&.epub3 {
							background: url(../images/epub3-48.png) -0 0 no-repeat;
						}
						&.icml {
							background: url(../images/icml-48.png) -0 0 no-repeat;
						}
						&.mobi {
							background: url(../images/mobi-48.png) -0 0 no-repeat;
						}
						&.pdf {
							background: url(../images/pdf-48.png) -0 0 no-repeat;
						}
						&.wxr {
							background: url(../images/wxr-48-red.png) -0 0 no-repeat;
						}
						&.vanillawxr {
							background: url(../images/vanillawxr-48.png) -0 0 no-repeat;
						}
						&.xhtml {
							background: url(../images/xhtml-48.png) -0 0 no-repeat;
						}
						&.odt {
							background: url(../images/odt-48.png) -0 0 no-repeat;
						}				
					}					
				}
			}
		}
	}
	
	.export-right {
		width: 40%;
		float: left;
		form {
			background: none;
			margin-bottom: 0;
			padding: 0 0 20px;
			width: auto;
			clear: both;
			fieldset, p {
				float: left;
				width: 50%;
			}
			fieldset {
				margin-bottom: 15px;
			}
			p {
				padding-right: 15px;
				text-align: right;
			}
		}
		h3 {
			margin-bottom: 0;
		}
		.theme {
			margin-top: 13px;
			cursor: pointer;
			float: left;
			position: relative;
			border: 1px solid #dedede;
			width: 325px;
			-webkit-box-shadow: 0 1px 1px -1px rgba(0,0,0,0.1);
			box-shadow:         0 1px 1px -1px rgba(0,0,0,0.1);
			-webkit-box-sizing: border-box;
			-moz-box-sizing:    border-box;
			box-sizing:         border-box;
			&:hover, &:focus {
				cursor: pointer;
			}
			/* Has a fixed aspect ratio of 1.5 to 1 regardless of screenshot size */
			.theme-screenshot {
				display: block;
				overflow: hidden;
				position: relative;
				-webkit-transition: opacity 0.2s ease-in-out;
				transition:         opacity 0.2s ease-in-out;
				&:after {
					content: '';
					display: block;
					padding-top: 66.66666%; // using a 3/2 aspect ratio
				}
				img {
					height: auto;
					position: absolute;
					left: 0;
					top: 0;
					width: 100%;
					-webkit-transform: translateZ( 0 ); // Prevents rendering bugs in Chrome
					-webkit-transition: opacity 0.2s ease-in-out;
					transition:         opacity 0.2s ease-in-out;
				}
			}
			.theme-name {
				font-size: 15px;
				font-weight: 600;
				margin: 0;
				padding: 15px;
				-webkit-box-shadow: inset 0 1px 0 rgba(0,0,0,0.1);
				box-shadow:         inset 0 1px 0 rgba(0,0,0,0.1);
				overflow: hidden;
				white-space: nowrap;
				text-overflow: ellipsis;
				background: #fff;
				background: rgba(255,255,255,0.65);
			}
			.theme-actions {
				-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
				opacity: 0;
				-webkit-transition: opacity 0.1s ease-in-out;
				transition:         opacity 0.1s ease-in-out;
				position: absolute;
				bottom: 0;
				right: 0;
				height: 38px;
				padding: 9px 10px 0 10px;
				background: rgba(244, 244, 244, 0.7);
				border-left: 1px solid rgba(0,0,0,0.05);
				.button-primary {
					margin-right: 3px;
				}
				.button-secondary {
					float: none;
					margin-left: 3px;
				}
			}
			&:focus {
				outline: 1px dotted #222;
				/* Hide shortcut actions and hover feedback when using tab navigation */
				.theme-actions {
					display: none;
				}
				/* Restore display of theme controls if you hover a focused theme */
				&:hover {
					.theme-actions {
						display: block;
					}
				}
			}
			&:hover {
				.theme-actions {
					-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";
					opacity: 1;
				}
				.theme-screenshot {
					background: #fff;
				}
			}
		}
	}

}